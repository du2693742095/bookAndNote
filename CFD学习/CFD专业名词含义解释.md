# CFD软件体系

## 简介

CFD是计算流体动力学（Computational Fluid Dynamics）的英文缩写，其利用计算机求解流体流动过程中的质量传递、能量传递、动量传递以及化学反应问题。CFD是一种方法或者工具，解决对象是流体力学问题，利用手段是数值计算。

## CFD应用场合 

只要存在流体流动的场合均可应用CFD。随着计算机技术及计算机计算能力的发展，CFD以及广泛应用于航空航天、造船、汽车、食品、能源、石油化工、生物医学等领域，而且还在不断的向其他行业扩展。

## 市场常见软件

常见的CFD软件流程体系，计算流体力学、计算传热学理论研究和学习主要是针对前处理和求解器：

1.  **三维CAD建模**：Solidworks、UG、Catia
2.  **网格生成软件**：ICEM、Hypermesh
3.  **前处理**：设置物理模型（即使用的求解方程，例如湍流还是层流、可压还是不可压）和边界条件（入口与出口）
4.  **求解器**：Fluent、CFX、StarCD、OpenFoam等，根据前处理的条件生成离散代数方程组，迭代求解
5.  **后处理器**：Tecplot等，图形化显示计算结果，计算总参数和平均参数



# CFD名词解释

## 前处理

**定义流动计算域**：建立流体流动区域。告诉计算机流体流动发生的场合。

**计算域离散**：将流动计算区域离散成网格单元，网格实现了将一个大问题化解为多个小问题，将连续的问题化解为离散的问题，将微分方程转化为代数方程

**指定计算控制方程**：告诉计算机所要解决的流体流动遵循的物理规则。

**定义边界流动条件**：特定流动问题有特定的流动边界条件。

**定义初始时刻流动条件**：告诉计算机，零时刻计算域处于何种状态。

**求解参数定义**： 如指定串行或并行计算、计算过程监测、离散算法指定等。

**输出参数定义**：定义计算过程中一些计算参数输出。

## 计算求解

计算求解通常由计算机自动完成，一般不需要人工干预。在前处理指定完毕后，求解器读取所有的求解参数进行自动求解计算，直至求解完成。

## 计算后处理

通过计算后处理将计算求解得到的数据以直观的方式展示出来，便于解读和工程应用。数据展现的方式包括：

**数据表**：每一个网格节点上的物理量数据，通常为压力、速度等原始变量。

**曲线图**：反映物理量变化规律

**云图**：反映物理量空间分布

**矢量图**：反映矢量空间分布

**动画**：以动画形式反应物理量随时间变化



# 网格名词

### 网格质量评估

除了常见的最大边，最小边，最大角，最小角等。还有以下四种评估指标：

1. **Aspect ratio**：取得最大的边长A，取得最短的高度H（高度定义为一个顶点到对面的距离）。最大边长除以高度：A/H即为Aspect Ratio
2. **坍塌比**：计算公式：(H/Sqrt(A))/2.14, H为顶点到对面的高度，A为顶点对面的三角形面积，坍塌比范围为0到1,1是正四面体，0为完全坍塌
3. **二面角：**六条边，每条边关联两个面的夹角，总共有六个角, 通常取最大最小的二面角评估网格质量
4. **扭曲度**：单元体积与相同大小外接球条件下的理想四面体体积之比, 计算公式：实际体积/理想体积, 正四面体值为1

**自由度**: 其实自由度是有限元的概念，而非网格，自由度是在单元上的一种属性。一个自由度表示一个计算变量。比如热分析单元每个顶点上只有一个自由度，即温度；而位移则至少有XYZ三个自由度，考虑到旋转，则有更多自由度；电磁场至少有电场XYZ，磁场XYZ六个自由度。

**形函数**: 求解应力应变，以节点位移为形函数参数的单元



# 解算器名词

有限体积法: 积分型方程可以直接由基本守恒定律导出，也可以通过把偏微分方程（组）在控制体上积分而得到。把空间求解域离散为完全覆盖求解域且互不重叠的区域，每个区域称为有限体积方法的控制体或者单元。有限体积方法的数值解为控制体上物理量的平均值或者某些特定点上的值，也可以是物理量在控制体中的某种分布（如多项式）。在每个控制体上，把积分型方程中的积分项（可能包括体积分、面积分、线积分等）近似的用数值积分来代替，从而把积分型方程近似为离散的代数方程组。通过求解代数方程组获得有限体积方法的近似解。

格心法&格点法: 在非结构网格上，有限体积方法可以分为格心（cell-centered）格式和格点（cell-vertex）格式。直接把三角形、四边形或者四面体、六面体网格作为控制体，基于控制体的编号存储因变量（单元平均值）的有限体积方法称为格心型格式，其典型的控制体见图2a。格点格式的控制体形状比较复杂。以二维问题为例，在网格生成阶段，首先生成常规的非结构网格，如三角形、四边形网格或者混合网格。以这些网格为基础，进一步构造对偶网格。二维的对偶网格为多边形网格。把对偶网格作为控制体，因变量存储在对偶网格中心（对应于格心格式的顶点）的有限体积方法称为格点型格式，其典型的控制体见图2b。

格心格式和格点格式各有其优缺点。格心型格式的优点是控制体形状简单，容易通过参数变换的方法进行各种数值积分，这对于发展高精度格式十分有利。此外，计算域边界为格心格式的边，边界条件的实施比较容易。其主要缺点是与格点格式相比，控制体数量比较多，存储量比较大。格点型格式的主要优点是控制体数量比较少；例如在二维三角形和三维四面体背景网格上，对偶网格控制体大约为背景网格控制体的1/2或者1/6；这也导致了内存消耗较低。其缺点是控制体形状复杂，二维时是多边形，三维时则为形状非常复杂的多面体（其面数往往多达几十个，且每个控制体面数可能不同），因此数值积分的计算量很大，难以构造高效的高精度格式。在边界处，对偶网格控制体不能完整地包围中心格点，使边界处计算误差增加。



# 中英文对照

- overset: 重叠
- overlap region: 重叠区域
- topology: 拓扑
- sliding: 滑移
- FV(Finite volume methods): 有限体积法